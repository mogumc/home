<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="referrer" content="never">
  <title>MoGuQAQ - 音乐播放器</title>

  <!-- Vue CDN -->
  <script src="https://registry.npmmirror.com/vue/3.5.18/files/dist/vue.global.prod.js" referrerpolicy="no-referrer"></script>

  <!-- Bootstrap Icons -->
  <link href="https://registry.npmmirror.com/bootstrap-icons/1.13.1/files/font/bootstrap-icons.min.css" referrerpolicy="no-referrer" rel="stylesheet" />

  <style>
    * {
      box-sizing: border-box;
    }

    body {
    	margin: 0;
    	padding: 0;
    	min-height: 100dvh;
    	font-family: "Segoe UI", sans-serif;
    	background: url('https://t.alcy.cc/ycy/') no-repeat center center fixed;
    	background-size: cover;
    	color: #eee;
    	display: flex;
    	align-items: center;
    	justify-content: center;
    	position: relative;
    }

    body::before {
      content: "";
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      z-index: -1;
    }

    .loading {
      position: fixed;
      top: 0; left: 0;
      right: 0;
      bottom: 0;
      width: 100%;
      height: 100%;
      background: #111;
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 2rem;
      color: white;
      font-weight: bold;
      opacity: 1;
      transition: opacity 0.4s ease;
    }

    .container {
      display: flex;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      width: 90%;
      max-width: 1200px;
      gap: 2rem;
      padding: 2rem;
      box-sizing: border-box;
      flex-wrap: wrap;
    }

    .left {
      flex: 1;
      min-width: 280px;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 1.5rem;
    }

    .avatar {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      border: 3px solid white;
      overflow: hidden;
      margin-bottom: 1rem;
    }

    .avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .contact-info {
      background: rgba(255, 255, 255, 0.08);
      padding: 1rem;
      border-radius: 12px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255, 0.1);
      width: 100%;
    }

    .contact-info p {
      margin: 0.3rem 0;
      color: white;
    }

    .right {
      flex: 2;
      min-width: 280px;
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .top-modules {
      display: flex;
      gap: 1rem;
    }

    .module {
      flex: 1;
      width: 100%;
      background: rgba(255, 255, 255, 0.08);
      border-radius: 12px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255, 0.1);
      padding: 1rem;
      text-align: center;
    }

    .quote {
      font-size: 1.1rem;
      font-style: italic;
      color: #ddd;
    }

    .quote-source {
      font-size: 0.9rem;
      color: #aaa;
      margin-top: 5px;
      text-align: right;
    }

    .date {
      font-size: 0.9rem;
      color: #bbb;
      font-weight: normal;
    }

    .clock {
      font-size: 1.5rem;
      font-weight: blod;
      color: #ccc;
    }

    .music-modules {
      display: flex;
      gap: 1rem;
    }

    .fixed-blur-footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      z-index: 9998;
      background: rgba(255, 255, 255, 0.08);
      border-radius: 12px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255, 0.1);
      padding: 1rem;
      text-align: center;
    }

    .fixed-blur-footer a {
      color: #fff;
      text-decoration: none;
      margin-left: 5px;
    }

    .fixed-blur-footer a:hover {
      color: #409EFF;
    }

    .custom-player {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .audio-controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 15px;
      font-size: 1.5rem;
    }

    .audio-controls button {
      padding: 8px 12px;
      background: #444;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1.2rem;
    }

    .audio-progress-container {
      position: relative;
      width: 100%;
      height: 8px;
      background: #555;
      border-radius: 4px;
      overflow: hidden;
      cursor: pointer;
    }

    .progress-bar {
      height: 100%;
      background-color: #fff;
      width: 0%;
    }

    .audio-time {
      text-align: center;
      margin-top: 8px;
      font-size: 14px;
      color: #ccc;
    }

    .progress-thumb {
      width: 12px;
      height: 12px;
      background: white;
      border-radius: 50%;
      position: absolute;
      top: -2px;
      transform: translateX(-50%);
      pointer-events: none;
    }

    .lyric-box {
      max-height: 200px;
      min-height: 100px;
      overflow: hidden;
      padding: 10px;
      margin-top: 10px;
      font-size: 16px;
      text-align: left;
      line-height: 1.5;
      color: #7E7E7E
    }

    .dev-box {
      max-height: 80px;
      min-height: 40px;
      overflow: hidden;
      padding: 10px;
      margin-top: 10px;
      font-size: 16px;
      text-align: left;
      line-height: 1.5;
      color: #7e7e7e;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }
    
    #dev-box {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      flex-wrap: nowrap;
      gap: 10px;
      width: 100%;
    }

    .dev-input {
      flex: 1;
      display: flex;
      padding: 10px;
      height: 30px;
      max-width: 150px;
      min-width: 100px; 
      border: 2px solid #ccc;
      border-radius: 10px;
      font-size: 16px;
      outline: none;
      width: 250px;
      transition: all 0.3s ease;
      background-color: #fff;
    }

    .dev-input:focus {
      border-color: #007BFF;
      box-shadow: 0 0 8px rgba(0, 123, 255, 0.3);
    }

    .dev-button {
      width: 60px;
      height: 30px;
      background-color: #007BFF;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 18px;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      flex-shrink: 0;
    }

    .dev-button:hover {
      background-color: #0056b3;
      transform: scale(1.05);
    }

    .dev-button:active {
      transform: scale(0.98);
    }

    @media (hover: hover) {
      .audio-panel:hover {
        color: #66ccff;
      }
    }

    @media (hover: none) {
      .audio-panel:active {
        color: #66ccff;
      }
    }

    @media (max-width: 768px) {
      .music-modules {
        flex-direction: column;
      }
      .top-modules {
        display: none;
      }
    }
  </style>
</head>

<body>
  <noscript><div style="text-align:center">请开启 JavaScript</div></noscript>

  <!-- 加载动画 -->
  <div id="loading" class="loading">正在加载...</div>

  <!-- 页面内容 -->
  <div id="app" class="container">
    <div class="left">
      <div class="avatar" @dblclick="changeDevTools">
        <img src="https://avatars.githubusercontent.com/u/67809394" alt="头像">
      </div>
      <div class="contact-info">
        <div class="lyric-box" v-html="lyrics"></div>
      </div>
      <div class="contact-info" v-if="isVisible">
        <div id="dev-box">
          <input class="dev-input" v-model="inputValue" placeholder="输入歌曲ID" />
          <button class="dev-button" @click="handleLoadSong">提交</button>
        </div>
      </div>
    </div>

    <div class="right">
      <div class="top-modules">
        <!-- 一句一言 -->
        <div class="module">
          <h3><i class="bi bi-balloon-heart-fill"></i> 一言</h3>
          <p class="quote">{{ quoteText }}</p>
          <p v-if="quoteAuthor" class="quote-source">--- {{ quoteAuthor }}</p>
          <p v-else class="quote-source">--- 未知</p>
        </div>

        <!-- 时间时钟 -->
        <div class="module">
          <h3><i class="bi bi-clock-fill"></i> 时钟</h3>
          <div class="date">{{ date }}</div>
          <div class="clock">{{ time }}</div>
        </div>
      </div>

      <!-- 音乐播放器区域 -->
      <div class="music-modules">
        <div class="module">
          <h3><i class="bi bi-music-note-beamed"></i> 音乐播放器</h3>
          <div class="custom-player">
            <audio v-if="currentSongUrl"
                   @timeupdate="onTimeUpdate" 
                   @ended="nextSong" 
                   @error="handleAudioError" 
                   @canplay="handleCanPlay" 
                   @play="handleOnPlay" 
                   @pause="handleOnPause" 
                   :volume="volume"
                   ref="audioPlayer"
                   autoplay>
              <source :src="currentSongUrl" type="audio/mpeg">
              浏览器不支持
            </audio>

            <div class="audio-controls">
              <a @click="prevSong" class="audio-panel">
                <i class="bi bi-skip-backward-fill"></i>
              </a>

              <a @click="togglePlay" class="audio-panel">
                <i class="bi" :class="isPlaying ? 'bi-pause-fill' : 'bi-play-fill'"></i>
              </a>

              <a @click="nextSong" class="audio-panel">
                <i class="bi bi-skip-forward-fill"></i>
              </a>
            </div>

            <div @click="seekTo" class="audio-progress-container">
              <div class="progress-bar" :style="{ width: progress + '%' }"></div>
              <div class="progress-thumb" :style="{ left: progress + '%' }"></div>
            </div>

            <div class="audio-time">
              {{ currentTimeFormatted }} / {{ durationFormatted }}
            </div>
          </div>
        </div>

        <!-- 歌曲信息 -->
        <div class="module">
          <h3><i class="bi bi-info-circle"></i> 歌曲信息</h3>
          <p v-if="currentTitle"><strong>正在播放：</strong>{{ currentTitle }}</p>
          <p v-else><strong>正在播放：</strong>未播放音乐</p>
          <p v-if="currentArtist"><strong>歌手：</strong>{{ currentArtist }}</p>
          <p v-else><strong>歌手：</strong>未知</p>

          <!-- 音量控制 -->
          <label for="volume"><strong>音量：</strong></label>
          <input type="range" id="volume" v-model="volume" min="0" max="1" step="0.01" @input="changeVolume">
        </div>
      </div>

      <!-- 防止页脚遮盖内容 -->
      <div style="height: 60px;"></div>
    </div>
  </div>

  <!-- 网站页脚 -->
  <footer>
    <div class="fixed-blur-footer">
      <span>Copyright&nbsp;©&nbsp;2025 <a href="https://www.moguq.top" target="_blank">MoGuQAQ</a></span>
    </div>
  </footer>

  <script>
    const { createApp, ref, onMounted, onUnmounted, watch } = Vue;

    createApp({
      setup() {
        const quoteText = ref('加载中...');
        const currentTimeFormatted = ref('00:00');
        const durationFormatted = ref('00:00');
        const quoteAuthor = ref('');
        const time = ref('--:--:--');
        const date = ref('--');
        const songList = ref([]);
        const currentSongIndex = ref(0);
        const currentTitle = ref('');
        const currentArtist = ref('');
        const currentSongUrl = ref('');
        const lyrics = ref('暂无歌词');
        const progress = ref(0);
        const isPlaying = ref(false);
        const audioPlayer = ref();
        const lrcLines = ref([]);
        const timeOffset = ref(NaN);
        const audioRetry = ref(0);
        const audioAllRetry = ref(0);
        const volume = ref(0.7);
        const isVisible = ref(false)
        const inputValue = ref('')

        onMounted(() => {
          // 获取歌单信息
           fetch('https://dev.moguq.top/netease?id=2003734815&limit=20&tls=1&jump=1')
            .then(res => res.json())
            .then(data => {
              if (data.code === 200) {
                const songs = data.data || [];
                console.log('Loaded songs:', songs);
                songList.value = songs;
                if (songs.length > 0) loadSong(songs[0], 0);
              }
            })
            .catch((error) => {
              console.error('歌单加载失败',error);
                // 歌单加载失败，使用备用歌曲
                songList.value = [{
                title: "花がら",
                author: "tayori",
                url: "https://pic.moguq.top/files/hana.mp3",
                lrc: "https://pic.moguq.top/files/hana.lrc"
              }];
              loadSong(songList.value[0], 0);
            });

          fetch('https://v1.hitokoto.cn/')
            .then(res => res.json())
            .then(data => {
              quoteText.value = data.hitokoto;
              quoteAuthor.value = data.from;
            });
          
          const tick = () => {
            time.value = new Date().toLocaleTimeString();
            date.value = new Date().toLocaleDateString();
          };
          tick();
          setInterval(tick, 1000);
        });

        onMounted(() => {
          window.addEventListener('keydown', handleKeyDown)
          window.addEventListener('keyup', handleKeyUp)
        })

        onUnmounted(() => {
          window.removeEventListener('keydown', handleKeyDown)
          window.removeEventListener('keyup', handleKeyUp)
        })
        
        function handleAudioError() {
          const audio = audioPlayer.value;
          console.log('音频加载失败', audio?.error);
          if (!audio) return
          if (audioRetry.value < 3) {
            console.log('音频加载失败 重试第', audioRetry.value + 1, '次');
            audio.load();
            audioRetry.value++
            audioAllRetry.value++
          } else {
            if (audioAllRetry.value >= songList.value.length * 3) {
              console.log('已达到最大重试次数，停止播放');
              lyrics.value = '<div style="color:#fff;"><strong>音频加载失败</strong></div><div style="color:#fff;"><strong>请稍后重试</strong></div>';
              return;
            }
            console.log('已达到最大重试次数，播放下一曲');
            audioRetry.value = 0;
            nextSong();
          }
        }

        function handleCanPlay() {
            console.log('音频加载成功')
            audioRetry.value = 0;
            const audio = audioPlayer.value;
            if (!isPlaying.value){
              audio.play().then(() => {
                console.log('开始播放');
              })
              .catch((error) => {
                lyrics.value = '<div style="color:#fff;"><strong>播放被浏览器阻止</strong></div><div style="color:#fff;"><strong>请手动点击开始播放</strong></div>';
                console.error('播放被浏览器阻止，请手动点击播放按钮', error);
              });
            }
        }

        function handleOnPlay() {
          console.log("播放成功");
          const audio = audioPlayer.value;
          audio.volume = volume.value;
          isPlaying.value = true;
        }

        function handleOnPause() {
          console.log("暂停中");
          isPlaying.value = false;
        }

        function handleKeyDown(e) {
          const audio = audioPlayer.value;
          const duration = audio.duration
          if (isNaN(duration) || duration <= 0) return
          const currentTime = audio.currentTime        
          switch (e.key) {
            case 'ArrowLeft':
              event.preventDefault()
              if (!isNaN(timeOffset.value)){
                step = (Math.max(timeOffset.value,currentTime) - Math.min(timeOffset.value,currentTime) + 20) * 0.03;
                timeOffset.value = Math.max(0,timeOffset.value - step);
                const displayPercent = (timeOffset.value / duration) * 100;
                progress.value = displayPercent;
              } else {
                timeOffset.value = Math.max(0, audio.currentTime - duration * 0.03);
              }
              break
            case 'ArrowRight':
              event.preventDefault()
              if (!isNaN(timeOffset.value)) {
                step = (Math.max(timeOffset.value,currentTime) - Math.min(timeOffset.value,currentTime) + 20) * 0.03;
                timeOffset.value = Math.min(duration,timeOffset.value + step);
                const displayPercent = (timeOffset.value / duration) * 100;
                progress.value = displayPercent;
              } else {
                timeOffset.value = Math.min(duration, audio.currentTime + duration * 0.03);
              }
              break
            case ' ':
              togglePlay()
              break
          }
        }


        function handleKeyUp(e) {
          const audio = audioPlayer.value;
          if ((e.key === 'ArrowLeft' || e.key === 'ArrowRight') && audio) {
            audio.currentTime = timeOffset.value;
            timeOffset.value = NaN;
          }
          return;
        }

        async function loadSongInfo(song, index) {
          lyrics.value = '<div style="color:#fff;"><strong>歌曲加载中</strong></div>';
          currentSongIndex.value = index;
          currentTitle.value = song.title;
          currentArtist.value = song.author;

          if (song.url == "" || song.url == null) {
            lyrics.value = '<div style="color:#fff;"><strong>歌曲链接无效</strong></div>';
            console.log("歌曲链接无效,当前歌曲信息可能为空");
            audioAllRetry.value += 2;
            if (audioAllRetry.value >= songList.value.length * 3) {
              console.log('已达到最大重试次数，停止播放');
              lyrics.value = '<div style="color:#fff;"><strong>音频加载失败</strong></div><div style="color:#fff;"><strong>请稍后重试</strong></div>';
              return;
            }
            nextSong();
            return;
          } 
          currentSongUrl.value = song.url;

          lrcLines.value = [];
          if (song.lrc) {
            fetch(song.lrc)
              .then(res => res.text())
              .then(text => {
                lrcLines.value = parseLrc(text);
              });
          }
        }

        async function loadSong(song, index) {
          await loadSongInfo(song, parseInt(index));
          const audio = audioPlayer.value;
          if (!audio) {
            lyrics.value = '<div style="color:#fff;"><strong>歌曲加载失败</strong></div><div style="color:#fff;"><strong>请稍后再试</strong></div>';
            console.log("歌曲加载失败,当前歌曲信息可能为空");
             audioAllRetry.value++;
            if (audioAllRetry.value >= songList.value.length * 3) {
              console.log('已达到最大重试次数，停止播放');
              lyrics.value = '<div style="color:#fff;"><strong>音频加载失败</strong></div><div style="color:#fff;"><strong>请稍后重试</strong></div>';
              return;
            }
            nextSong();
            return;
          }
          if(song.url != audio.src) {
            audio.src = song.url
          }
        }

        function togglePlay() {
          const audio = audioPlayer.value;
          if (isPlaying.value) {
            audio.pause();
          } else {
           audio.play().then(() => {
              console.log('开始播放');
            })
            .catch((error) => {
              lyrics.value = '<div style="color:#fff;"><strong>播放被浏览器阻止</strong></div><div style="color:#fff;"><strong>请手动点击开始播放</strong></div>';
              console.error('播放被浏览器阻止，请手动点击播放按钮', error);
            });
          }
          
        }

        function changeVolume() {
          const audio = audioPlayer.value;
          audio.volume = volume.value;
        }

        function nextSong() {
          let nextIndex = (currentSongIndex.value + 1) % songList.value.length;
          loadSong(songList.value[nextIndex], nextIndex);
        }

        function prevSong() {
          let prevIndex = (currentSongIndex.value - 1 + songList.value.length) % songList.value.length;
          loadSong(songList.value[prevIndex], prevIndex);
        }

        function onTimeUpdate(e) {
          const audio = e.target;
          const duration = audio.duration;
          if (isNaN(duration) || duration <= 0) return;
          const currentTime = audio.currentTime;
          var currentDisplayTime = currentTime;
          if (!isNaN(timeOffset.value)) {
            currentDisplayTime = timeOffset.value;
          }
          const displayPercent = (currentDisplayTime / duration) * 100;
          progress.value = displayPercent;
          currentTimeFormatted.value = formatTime(audio.currentTime);
          if (!isNaN(audio.duration)) {
            durationFormatted.value = formatTime(audio.duration);
          }
          updateLyrics(audio.currentTime);
        }

        function formatTime(seconds) {
          const m = Math.floor(seconds / 60);
          const s = Math.floor(seconds % 60);
          return `${String(m).padStart(2, '0')}:${String(s).padStart(2, '0')}`;
        }

        function seekTo(event) {
          const container = event.target.closest('.audio-progress-container');
          const rect = container.getBoundingClientRect();
          const offsetX = event.clientX - rect.left;
          const percent = offsetX / rect.width;
          const duration = audioPlayer.value.duration;
          if (!isNaN(duration)) {
            audioPlayer.value.currentTime = percent * duration;
          }
        }

        function parseLrc(lrcText) {
          const lines = lrcText.split('\n');
          const parsed = [];
          lines.forEach(line => {
            const match = line.match(/\[(\d+):(\d+\.\d+|\d+)\](.*)/);
            if (match) {
              const minutes = parseFloat(match[1]);
              const seconds = parseFloat(match[2]);
              const time = minutes * 60 + seconds;
              const text = match[3].trim();
              parsed.push({ time, text });
            }
          });
          return parsed.sort((a, b) => a.time - b.time);
        }

        function isTextEmpty(text) {
          return !text || text.trim() === '';
        }

        function updateLyrics(currentTime) {
          let currentLyrics = '';
          const activeIndices = [];

          for (let i = 0; i < lrcLines.value.length; i++) {
            const current = lrcLines.value[i];
            const next = lrcLines.value[i + 1];

            if (current.time <= currentTime && (!next || next.time > currentTime)) {
              activeIndices.push(i);
            }
          }

          const additionalIndices = [];

          activeIndices.forEach(index => {
            const targetTime = lrcLines.value[index].time;

            for (let i = 0; i < lrcLines.value.length; i++) {
              if (activeIndices.includes(i)) continue;
              if (Math.abs(lrcLines.value[i].time - targetTime) < 0.001 && !isTextEmpty(lrcLines.value[i].text)) {
                additionalIndices.push(i);
              }
            }
          });

          activeIndices.push(...additionalIndices);

          if (activeIndices.length === 0) {
            lyrics.value = `<div>暂无歌词</div>`;
            return;
          }

          const displayLinesSet = new Set();

          activeIndices.forEach(i => {
            if (!isTextEmpty(lrcLines.value[i].text)) {
              displayLinesSet.add(i);
            }
          });

          if (displayLinesSet.size === 0) {
            const baseIndex = activeIndices[0];
            for (let i = 0; i < lrcLines.value.length; i++) {
              const idx1 = baseIndex - 1 - i;
              if (idx1 >= 0 && !isTextEmpty(lrcLines.value[idx1].text)) {
                displayLinesSet.add(idx1);
                break;
              }
              const idx2 = baseIndex + 1 + i;
              if (idx2 < lrcLines.value.length && !isTextEmpty(lrcLines.value[idx2].text)) {
                displayLinesSet.add(idx2);
                break;
              }
            }
          }

          const firstIndex = Math.min(...activeIndices);
          const lastIndex = Math.max(...activeIndices);
          const upLineIndex = firstIndex - 1;
          const downLineIndex = lastIndex + 1;

          if (upLineIndex >= 0 && !isTextEmpty(lrcLines.value[upLineIndex].text)) {
            displayLinesSet.add(upLineIndex);
          }

          if (downLineIndex < lrcLines.value.length) {
            displayLinesSet.add(downLineIndex);
          }

          const displayIndices = Array.from(displayLinesSet).sort((a, b) => a - b);

          if (displayIndices.length > 0) {
            displayIndices.forEach(i => {
              const line = lrcLines.value[i];
              const isCurrent = activeIndices.includes(i);
              if (isTextEmpty(line.text)) {
                line.text = "♫ ♫ ♫";
              }
              if (isCurrent) {
                currentLyrics += `<div style="color:#fff;"><strong>${line.text}</strong></div>`;
              } else {
                currentLyrics += `<div>${line.text}</div>`;
              }
            });
          } else {
            currentLyrics = `<div>暂无歌词</div>`;
          }

          lyrics.value = currentLyrics;
        }

        function handleLoadSong(){
          index = parseInt(inputValue.value);
          if (isNaN(index) || index < 0 || index > songList.value.length-1){
            console.log("输入地址超出限制 Range: 0 -",songList.value.length-1);
            return;
          }
          console.log("尝试播放: ",songList.value[index]);
          loadSong(songList.value[index], index);
        }

        function changeDevTools(){
          isVisible.value = !isVisible.value;
        }

        return {
          quoteText,
          quoteAuthor,
          time,
          date,
          currentTitle,
          currentArtist,
          currentSongUrl,
          lyrics,
          progress,
          isPlaying,
          audioPlayer,
          volume,
          isVisible,
          durationFormatted,
          currentTimeFormatted,
          handleAudioError,
          handleCanPlay,
          handleOnPlay,
          handleOnPause,
          handleLoadSong,
          inputValue,
          changeDevTools,
          togglePlay,
          prevSong,
          nextSong,
          changeVolume,
          onTimeUpdate,
          seekTo
        };
      }
    }).mount('#app');

    // 加载完成后隐藏 loading 界面
    window.addEventListener('load', () => {
      const loading = document.getElementById('loading');
      if (loading) {
        loading.classList.add('hide');
        setTimeout(() => loading.remove(), 400);
      }
    });
  </script>
</body>
</html>
